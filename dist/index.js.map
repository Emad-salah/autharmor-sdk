{"version":3,"sources":["index.js"],"names":["AuthArmor","options","id","userReferenceID","popupWindow","clientID","onAuthenticating","onAuthenticated","document","body","innerHTML","window","openedWindow","querySelector","classList","remove","closedWindow","add","url","title","w","h","y","outerHeight","screenY","x","outerWidth","screenX","open"],"mappings":";AAkGG,aAAA,SAAA,EAAA,EAAA,GAAA,KAAA,aAAA,GAAA,MAAA,IAAA,UAAA,qCAAA,SAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,EAAA,EAAA,IAAA,IAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,GAAA,EAAA,EAAA,UAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,KAAA,EAAA,OAAA,eAAA,EAAA,EAAA,CAAA,MAAA,EAAA,YAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,GAAA,EAAA,EAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAlGkBA,IAAAA,EAkGlB,WAjGyB,SAAA,IAAA,IAAA,EAAA,KAAdC,EAAU,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,GAAI,EAAA,KAAA,GA0EL,EAAA,KAAA,qBAAA,SAAAC,GACnB,EAAKC,gBAAkBD,IAwBV,EAAA,KAAA,eAAA,WACb,EAAKE,YACqB,wBAAA,OAAA,EAAKC,SAC3B,qBAAA,OAAA,EAAKF,iBAEP,kBACA,IACA,OAzGGE,KAAAA,SAAWJ,EAAQI,SACnBF,KAAAA,gBAAkBF,EAAQE,gBAC1BG,KAAAA,iBAAmBL,EAAQK,iBAC3BC,KAAAA,gBAAkBN,EAAQM,gBAC/BC,SAASC,KAAKC,WAAd,+1CAsDAC,OAAOC,aAAe,WACpB,EAAKN,mBACLE,SAASK,cAAc,kBAAkBC,UAAUC,OAAO,WAG5DJ,OAAOK,aAAe,WACpBR,SAASK,cAAc,kBAAkBC,UAAUG,IAAI,WAGzDN,OAAOC,aAAe,WACpB,EAAKL,kBACLC,SAASK,cAAc,kBAAkBC,UAAUC,OAAO,WA2B7D,OAAA,EAAA,EAAA,CAAA,CAAA,IAAA,cAnBWG,MAAAA,SAAAA,EAAKC,EAAOC,EAAGC,GACrBC,IAAAA,EAAIX,OAAOY,YAAc,EAAIZ,OAAOa,QAAUH,EAAI,EAClDI,EAAId,OAAOe,WAAa,EAAIf,OAAOgB,QAAUP,EAAI,EAC9CT,OAAAA,OAAOiB,KACZV,EACAC,EASQC,sLAAAA,OAAAA,EACCC,qBAAAA,OAAAA,EACHC,kBAAAA,OAAAA,EACCG,mBAAAA,OAAAA,QAEV,EAAA,GAAA,QAAA,QAAA","file":"index.js","sourceRoot":"..\\src","sourcesContent":["export default class AuthArmor {\n  constructor(options = {}) {\n    this.clientID = options.clientID;\n    this.userReferenceID = options.userReferenceID;\n    this.onAuthenticating = options.onAuthenticating;\n    this.onAuthenticated = options.onAuthenticated;\n    document.body.innerHTML += `\n      <style>\n        .popup-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          background-color: rgba(53, 57, 64, 0.98);\n          z-index: 100;\n          opacity: 1;\n          visibility: visible;\n          transition: all .2s ease;\n        }\n        \n        .popup-overlay-content {\n          background-color: #303642;\n          border-radius: 15px;\n          overflow: hidden;\n          box-shadow: 0px 20px 50px rgba(0, 0, 0, 0.15);\n        }\n        \n        .popup-overlay img {\n          height: 110px;\n          margin-bottom: 40px;\n          margin-top: 40px;\n        }\n        \n        .popup-overlay p {\n          margin: 0;\n          font-weight: bold;\n          color: white;\n          font-size: 18px;\n          padding: 14px 80px;\n          background-color: rgb(0, 128, 128);\n        }\n\n        .hidden {\n          opacity: 0;\n          visibility: hidden;\n        }\n      </style>\n      <div class=\"popup-overlay hidden\">\n        <div class=\"popup-overlay-content\">\n          <img src=\"\" alt=\"AuthArmor Icon\" />\n          <p>Authenticating with AuthArmor...</p>\n        </div>\n      </div>\n    `;\n\n    window.openedWindow = () => {\n      this.onAuthenticating();\n      document.querySelector(\".popup-overlay\").classList.remove(\"hidden\");\n    };\n\n    window.closedWindow = () => {\n      document.querySelector(\".popup-overlay\").classList.add(\"hidden\");\n    };\n\n    window.openedWindow = () => {\n      this.onAuthenticated();\n      document.querySelector(\".popup-overlay\").classList.remove(\"hidden\");\n    };\n  }\n\n  setUserReferenceID = id => {\n    this.userReferenceID = id;\n  };\n\n  popupWindow(url, title, w, h) {\n    var y = window.outerHeight / 2 + window.screenY - h / 2;\n    var x = window.outerWidth / 2 + window.screenX - w / 2;\n    return window.open(\n      url,\n      title,\n      `toolbar=no, \n      location=no, \n      directories=no, \n      status=no, \n      menubar=no, \n      scrollbars=no, \n      resizable=no, \n      copyhistory=no, \n      width=${w}, \n      height=${h}, \n      top=${y}, \n      left=${x}`\n    );\n  }\n\n  authenticate = () => {\n    this.popupWindow(\n      `/popup.html?clientID=${this.clientID}&userReferenceID=${\n        this.userReferenceID\n      }`,\n      \"AuthArmor Login\",\n      600,\n      400\n    );\n  };\n}\n"]}