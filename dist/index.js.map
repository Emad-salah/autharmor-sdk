{"version":3,"sources":["index.js"],"names":["AuthArmor","options","id","userReferenceID","popupWindow","clientID","onAuthenticating","onAuthenticated","document","body","innerHTML","window","openedWindow","querySelector","classList","remove","closedWindow","add","url","title","w","h","y","outerHeight","screenY","x","outerWidth","screenX","open"],"mappings":";;;;;;;;;;;;;;;IAAqBA;;;AACnB,uBAA0B;AAAA;;AAAA,QAAdC,OAAc,uEAAJ,EAAI;;AAAA;;AAAA,gDA0EL,UAAAC,EAAE,EAAI;AACzB,MAAA,KAAI,CAACC,eAAL,GAAuBD,EAAvB;AACD,KA5EyB;;AAAA,0CAmGX,YAAM;AACnB,MAAA,KAAI,CAACE,WAAL,gCAC0B,KAAI,CAACC,QAD/B,8BAEI,KAAI,CAACF,eAFT,GAIE,iBAJF,EAKE,GALF,EAME,GANF;AAQD,KA5GyB;;AACxB,SAAKE,QAAL,GAAgBJ,OAAO,CAACI,QAAxB;AACA,SAAKF,eAAL,GAAuBF,OAAO,CAACE,eAA/B;AACA,SAAKG,gBAAL,GAAwBL,OAAO,CAACK,gBAAhC;AACA,SAAKC,eAAL,GAAuBN,OAAO,CAACM,eAA/B;AACAC,IAAAA,QAAQ,CAACC,IAAT,CAAcC,SAAd;;AAsDAC,IAAAA,MAAM,CAACC,YAAP,GAAsB,YAAM;AAC1B,MAAA,KAAI,CAACN,gBAAL;;AACAE,MAAAA,QAAQ,CAACK,aAAT,CAAuB,gBAAvB,EAAyCC,SAAzC,CAAmDC,MAAnD,CAA0D,QAA1D;AACD,KAHD;;AAKAJ,IAAAA,MAAM,CAACK,YAAP,GAAsB,YAAM;AAC1BR,MAAAA,QAAQ,CAACK,aAAT,CAAuB,gBAAvB,EAAyCC,SAAzC,CAAmDG,GAAnD,CAAuD,QAAvD;AACD,KAFD;;AAIAN,IAAAA,MAAM,CAACC,YAAP,GAAsB,YAAM;AAC1B,MAAA,KAAI,CAACL,eAAL;;AACAC,MAAAA,QAAQ,CAACK,aAAT,CAAuB,gBAAvB,EAAyCC,SAAzC,CAAmDC,MAAnD,CAA0D,QAA1D;AACD,KAHD;AAID;;;;gCAMWG,KAAKC,OAAOC,GAAGC,GAAG;AAC5B,UAAIC,CAAC,GAAGX,MAAM,CAACY,WAAP,GAAqB,CAArB,GAAyBZ,MAAM,CAACa,OAAhC,GAA0CH,CAAC,GAAG,CAAtD;AACA,UAAII,CAAC,GAAGd,MAAM,CAACe,UAAP,GAAoB,CAApB,GAAwBf,MAAM,CAACgB,OAA/B,GAAyCP,CAAC,GAAG,CAArD;AACA,aAAOT,MAAM,CAACiB,IAAP,CACLV,GADK,EAELC,KAFK,+LAWGC,CAXH,8BAYIC,CAZJ,2BAaCC,CAbD,4BAcEG,CAdF,EAAP;AAgBD","file":"index.js","sourceRoot":"..\\src","sourcesContent":["export default class AuthArmor {\n  constructor(options = {}) {\n    this.clientID = options.clientID;\n    this.userReferenceID = options.userReferenceID;\n    this.onAuthenticating = options.onAuthenticating;\n    this.onAuthenticated = options.onAuthenticated;\n    document.body.innerHTML += `\n      <style>\n        .popup-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          background-color: rgba(53, 57, 64, 0.98);\n          z-index: 100;\n          opacity: 1;\n          visibility: visible;\n          transition: all .2s ease;\n        }\n        \n        .popup-overlay-content {\n          background-color: #303642;\n          border-radius: 15px;\n          overflow: hidden;\n          box-shadow: 0px 20px 50px rgba(0, 0, 0, 0.15);\n        }\n        \n        .popup-overlay img {\n          height: 110px;\n          margin-bottom: 40px;\n          margin-top: 40px;\n        }\n        \n        .popup-overlay p {\n          margin: 0;\n          font-weight: bold;\n          color: white;\n          font-size: 18px;\n          padding: 14px 80px;\n          background-color: rgb(0, 128, 128);\n        }\n\n        .hidden {\n          opacity: 0;\n          visibility: hidden;\n        }\n      </style>\n      <div class=\"popup-overlay hidden\">\n        <div class=\"popup-overlay-content\">\n          <img src=\"\" alt=\"AuthArmor Icon\" />\n          <p>Authenticating with AuthArmor...</p>\n        </div>\n      </div>\n    `;\n\n    window.openedWindow = () => {\n      this.onAuthenticating();\n      document.querySelector(\".popup-overlay\").classList.remove(\"hidden\");\n    };\n\n    window.closedWindow = () => {\n      document.querySelector(\".popup-overlay\").classList.add(\"hidden\");\n    };\n\n    window.openedWindow = () => {\n      this.onAuthenticated();\n      document.querySelector(\".popup-overlay\").classList.remove(\"hidden\");\n    };\n  }\n\n  setUserReferenceID = id => {\n    this.userReferenceID = id;\n  };\n\n  popupWindow(url, title, w, h) {\n    var y = window.outerHeight / 2 + window.screenY - h / 2;\n    var x = window.outerWidth / 2 + window.screenX - w / 2;\n    return window.open(\n      url,\n      title,\n      `toolbar=no, \n      location=no, \n      directories=no, \n      status=no, \n      menubar=no, \n      scrollbars=no, \n      resizable=no, \n      copyhistory=no, \n      width=${w}, \n      height=${h}, \n      top=${y}, \n      left=${x}`\n    );\n  }\n\n  authenticate = () => {\n    this.popupWindow(\n      `/popup.html?clientID=${this.clientID}&userReferenceID=${\n        this.userReferenceID\n      }`,\n      \"AuthArmor Login\",\n      600,\n      400\n    );\n  };\n}\n"]}